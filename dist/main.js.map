{"version":3,"file":"main.js","mappings":"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","sources":["webpack://record_player/./src/scripts/record.js","webpack://record_player/./src/scripts/song.js","webpack://record_player/./src/index.js"],"sourcesContent":["\nexport default class Record {\n  constructor(){\n    \n  }\n\n  draw(context) {\n      context.save();\n      context.beginPath(); \n      context.strokeStyle = \"white\";\n      context.fillStyle = \"#080402\";\n      context.lineWidth = 2;\n      context.arc(0, 0, 60, 0, 2 * Math.PI);\n      context.stroke();\n      context.fill();\n      context.closePath();\n      context.beginPath();\n      context.arc(0, 0, 15, 0, 2 * Math.PI);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.arc(0, 0, 2.5, 0, 2 * Math.PI);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.arc(0, 0, 25, 1.6 * Math.PI, 2 * Math.PI);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.arc(0, 0, 35, 1.6 * Math.PI, 2 * Math.PI);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.arc(0, 0, 45, 1.6 * Math.PI, 2 * Math.PI);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.arc(0, 0, 25, .60 * Math.PI, 1 * Math.PI);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.arc(0, 0, 35, .60 * Math.PI, 1 * Math.PI);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.arc(0, 0, 45, .60 * Math.PI, 1 * Math.PI);\n      context.stroke();\n      context.closePath();\n      context.restore();\n  }\n\n  update(context) {\n    context.rotate(1 * Math.PI/360)\n  }\n  update1(context){\n    context.rotate(-1 * Math.PI/360)\n  }\n}\n","export default class Song {\n  constructor(url) {\n      this.url = url;\n      this.audioContext = null;\n      this.source = null;\n      this.muted = false;\n      this.songIndex = 0;\n  }\n\n \n    // const clientId = '1d4bf99c88854b4f91c4f6c5013ed995';\n    // const clientSecret = '91954bbad64a4d36a485953d1bf5e801';\n    // debugger\n    // const result = await fetch('https://accounts.spotify.com/api/token', {\n    //   method: 'post',\n    //   headers: {\n    //     'Content-Type' : 'application/x-www-form-urlencoded',\n    //     'Authorization' : 'Basic ' + btoa( clientId + ':' + clientSecret)\n    //   },\n    //   body: 'grant_type=client_credentials'\n    // });\n    //   const data = await result.json();\n    //   debugger\n    //   console.log(data.access_token);\n    //   let token = data.access_token;\n\n\n    async fetchSongData() {\n      const url = 'https://spotify-web2.p.rapidapi.com/playlist_tracks/?id=6HV2lBp82zscNRlHrwAZ9G&offset=0&limit=100';\n      const options = {\n          method: 'GET',\n          headers: {\n              'X-RapidAPI-Key': 'd2fe1d3f6dmsh1490e167b6701eep1fde0ejsnefe0222631a8',\n              'X-RapidAPI-Host': 'spotify81.p.rapidapi.com'\n          }\n      };\n      \n      try {\n          const response = await fetch(url, options);\n          const result = await response.json();\n          console.log(result);\n          return result\n      } catch (error) {\n          console.error(error);\n      }\n    }\n    \n  async getAudio(){\n    let songData = await this.fetchSongData();\n    debugger\n    console.log('song retrieved');\n     return  songData.items[this.songIndex].track.preview_url;\n\n  }\n async nextSong(){\n  let songData = await this.fetchSongData();\n  this.songIndex = (this.songIndex + 1) % songData.items.length;\n  console.log(\"song data\")\n  console.log(this.songIndex);\n  return songData.items[this.songIndex].track.preview_url;\n  }\n  async prevSong(){\n    let songData = await this.fetchSongData();\n    if (this.songIndex === 0){\n      this.songIndex = songData.items.length ;\n      debugger\n    }\n  this.songIndex = (this.songIndex - 1) % songData.items.length;\n  debugger\n  console.log(\"song data\")\n  console.log(this.songIndex);\n  return songData.items[this.songIndex].track.preview_url;\n    //create\n  }\n}","import Record from \"./scripts/record.js\";\nimport Song from \"./scripts/song.js\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    console.log(\"Hello world!\");\n    \n    let canvas = document.getElementById(\"record_player\")\n    let context = canvas.getContext(\"2d\"); \n    context.translate(100,75)\n    canvas.style.background = \"#8185897a\";\n\nlet record = new Record();\nrecord.draw(context);\nfunction animate(){\n  if (isPlaying) {\n    context.clearRect( -100, -75, canvas.width, canvas.height);\n    record.update(context);\n    record.draw(context);\n    requestAnimationFrame(animate);\n  } \n}\nfunction resetAnime(){\n    context.resetTransform();\n    context.translate(100,75);\n    record.draw(context);\n   if (!isPlaying){\n    isPlaying = true;\n    animate();\n   } else{\n    animate();\n   }\n}   \n\nconst songUrl = 'https://spotify-web2.p.rapidapi.com/playlist_tracks/?id=6HV2lBp82zscNRlHrwAZ9G&offset=0&limit=100';\nconst song = new Song(songUrl);\n\nlet isPlaying = false;\n\nconst audio = document.getElementById('audio_player')\n\nasync function getSong(){\n    audio.src = await song.getAudio();\n}\ngetSong();\n\n\nlet toneArm = document.querySelector(\".tone-arm\");\nconst button1 = document.getElementById('button1');\nbutton1.addEventListener('click', function(){\n    console.log('click');\n    \n    if (!isPlaying) {\n        toneArm.classList.add(\"play\");\n        setTimeout( () => {\n        audio.play(); \n        animate();\n        }, 1000)\n        isPlaying = true;\n    } else { \n        audio.pause();\n        toneArm.classList.remove(\"play\");\n        console.log('music paused')\n        isPlaying = false;\n    }\n       \n    audio.addEventListener('playing', function(){\n        console.log('audio started playing');\n    });\n  \n})\naudio.addEventListener('ended', function(){\n    console.log('Audio 1 ended')\n    isPlaying = false;\n    toneArm.classList.remove(\"play\")\n// fix?\n});\nconst mute = document.getElementById('mute')\nmute.addEventListener('click',() =>{\n\n    if (audio.muted === true){\n        toneArm.classList.add(\"play\")\n        setTimeout(() =>{\n        audio.muted = false;\n        }, 700)\n        \n        console.log(\"audio unmuted\")\n    } else {\n         toneArm.classList.remove(\"play\");\n        audio.muted = true;\n        console.log(\"audio muted\")\n    };\n   \n    })\n\n   \n\nconst nextSong = document.getElementById('button2');\nnextSong.addEventListener('click', async function(){\n    audio.src = await song.nextSong();\n    playbackSpeed.value = 100;\n    isPlaying = true;\n    setTimeout(()=>{\n        resetAnime();\n    }, 750)\n    toneArm.classList.remove('play');\n    setTimeout(()=>{\n    toneArm.classList.add(\"play\");\n    setTimeout(() => {\n         audio.play();\n    }, 1000)\n}, 1000)\n   console.log('next song')\n});\nconst prevSong = document.getElementById('prevSong')\nprevSong.addEventListener('click', async function(){\n    audio.src = await song.prevSong();\n    playbackSpeed.value = 100;\n    isPlaying = true;\n    setTimeout(()=>{\n        resetAnime();\n    }, 750)\n    toneArm.classList.remove('play');\n    setTimeout(()=>{\n    toneArm.classList.add(\"play\");\n    setTimeout(() => {\n         audio.play();\n    }, 1000)\n}, 1000)\n   console.log('prev song')\n})\n\nlet record1 = document.getElementById('record1');\n   record1.addEventListener('mouseover', function(){\n    record1.classList.add(\"on\");\n    setTimeout(() => {\n        record1.classList.remove(\"on\")\n    }, 10000)\n   })\n    record1.addEventListener('click', async function(){\n        document.body.style.backgroundImage = \"url('./src/red_yellow.jpg')\";\n        let select = await song.fetchSongData();\n        audio.src = select.items[9].track.preview_url;\n        playbackSpeed.value = 100;\n        setTimeout(()=>{\n            resetAnime();\n        }, 750)\n        toneArm.classList.remove('play');\n        setTimeout(()=>{\n        toneArm.classList.add(\"play\");\n        setTimeout(() => {\n             audio.play();\n        }, 1000)\n    }, 1000)\n    })\n    let record2 = document.getElementById('record2');\n    record2.addEventListener('mouseover', function(){\n        record2.classList.add(\"on\");\n        setTimeout(() => {\n            record2.classList.remove(\"on\")\n        }, 10000)\n       })\n    record2.addEventListener('click', async function(){\n        document.body.style.backgroundImage = \"url('./src/blue.jpg')\";\n        let select = await song.fetchSongData();\n        audio.src = select.items[14].track.preview_url;\n        playbackSpeed.value = 100;\n        isPlaying = true;\n        setTimeout(()=>{\n            resetAnime();\n        }, 750)\n        toneArm.classList.remove('play');\n        setTimeout(()=>{\n        toneArm.classList.add(\"play\");\n        setTimeout(() => {\n             audio.play();\n        }, 1000)\n    }, 1000)\n    })\n    let record3 = document.getElementById('record3');\n    record3.addEventListener('mouseover', function(){\n        record3.classList.add(\"on\");\n        setTimeout(() => {\n            record3.classList.remove(\"on\")\n        }, 10000)\n       })\n    record3.addEventListener('click', async function(){\n        document.body.style.backgroundImage = \"url('./src/green.jpg')\";\n        let select = await song.fetchSongData();\n        audio.src = select.items[19].track.preview_url;\n        playbackSpeed.value = 100;\n        isPlaying = true;\n        setTimeout(()=>{\n            resetAnime();\n        }, 750)\n        \n        toneArm.classList.remove('play');\n        setTimeout(()=>{\n        toneArm.classList.add(\"play\");\n        setTimeout(() => {\n             audio.play();\n        }, 1000)\n    }, 1000)\n    })\nconst volume_slider = document.getElementById(\"volume\");\nvolume_slider.addEventListener('input', function(){\n    let audioVol = volume_slider.value / 100;\n    audio.volume = audioVol;\n} )\nconst playbackSpeed = document.getElementById('playback')\nplaybackSpeed.addEventListener('input', function(){\n    let audioSpeed = playbackSpeed.value / 100;\n    audio.playbackRate = audioSpeed;\n} )\n\n});\n"],"names":["Record","constructor","draw","context","save","beginPath","strokeStyle","fillStyle","lineWidth","arc","Math","PI","stroke","fill","closePath","restore","update","rotate","update1","Song","url","this","audioContext","source","muted","songIndex","fetchSongData","options","method","headers","response","fetch","result","json","console","log","error","getAudio","songData","items","track","preview_url","nextSong","length","prevSong","document","addEventListener","canvas","getElementById","getContext","translate","style","background","record","animate","isPlaying","clearRect","width","height","requestAnimationFrame","resetAnime","resetTransform","song","audio","async","src","getSong","toneArm","querySelector","pause","classList","remove","add","setTimeout","play","playbackSpeed","value","record1","body","backgroundImage","select","record2","record3","volume_slider","audioVol","volume","audioSpeed","playbackRate"],"sourceRoot":""}